# –ó–≤—ñ—Ç –ø—Ä–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ë–î - –î–æ —ñ –ü—ñ—Å–ª—è

## üìä **–ü–û–†–Ü–í–ù–Ø–ù–ù–Ø –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø –ó–ê–ü–ò–¢–Ü–í**

### üö® **–î–û –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–á:**

#### 1. `getSessionsByMonth()` - –ù–∞–π–±—ñ–ª—å—à–∞ –ø—Ä–æ–±–ª–µ–º–∞
```dart
// –ë–£–õ–û
final QuerySnapshot snapshot = await _sessionsCollection.get(); // –í–°–Ü —Å–µ—Å—ñ—ó!
// –ü–æ—Ç—ñ–º —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ –∫–æ–¥—ñ
```
- **–ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª–æ**: –í–°–Ü —Å–µ—Å—ñ—ó (2000+ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤)
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ö–æ–∂–Ω—ñ 5 —Ö–≤ –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- **–©–æ–¥–µ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏**: 288 √ó 2000 = **576,000 —á–∏—Ç–∞–Ω—å** üö®

#### 2. `getAllSessions()` - –ê—Ä—Ö—ñ–≤
```dart  
// –ë–£–õ–û
final QuerySnapshot snapshot = await _sessionsCollection.get(); // –í–°–Ü —Å–µ—Å—ñ—ó!
```
- **–ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª–æ**: –í–°–Ü —Å–µ—Å—ñ—ó (2000+ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤)
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –∞—Ä—Ö—ñ–≤—É
- **–©–æ–¥–µ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏**: 20 √ó 2000 = **40,000 —á–∏—Ç–∞–Ω—å**

#### 3. `getAllClientsWithVipStatus()` - –ö–ª—ñ—î–Ω—Ç–∏
```dart
// –ë–£–õ–û
final QuerySnapshot sessionsSnapshot = await _sessionsCollection.get(); // –í–°–Ü —Å–µ—Å—ñ—ó!
final QuerySnapshot clientsSnapshot = await _clientsCollection.get();   // –í–°–Ü –∫–ª—ñ—î–Ω—Ç–∏!
```
- **–ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª–æ**: –í–°–Ü —Å–µ—Å—ñ—ó + –í–°–Ü –∫–ª—ñ—î–Ω—Ç–∏
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ü—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤
- **–©–æ–¥–µ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏**: 10 √ó (2000 + 100) = **21,000 —á–∏—Ç–∞–Ω—å**

### **–ó–ê–ì–ê–õ–¨–ù–ï –©–û–î–ï–ù–ù–ï –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø –î–û**: ~667,240 —á–∏—Ç–∞–Ω—å ‚ö†Ô∏è

---

## ‚úÖ **–ü–Ü–°–õ–Ø –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–á:**

#### 1. `getSessionsByMonth()` - –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ –ë–î
```dart
// –°–¢–ê–õ–û
final QuerySnapshot snapshot = await _sessionsCollection
    .where('date', isGreaterThanOrEqualTo: startDate)
    .where('date', isLessThan: endDate)
    .orderBy('date', descending: true)
    .limit(200) // –ú–∞–∫—Å–∏–º—É–º 200 —Å–µ—Å—ñ–π –∑–∞ –º—ñ—Å—è—Ü—å
    .get();
```
- **–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î**: –¢—ñ–ª—å–∫–∏ —Å–µ—Å—ñ—ó –∑–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –º—ñ—Å—è—Ü—å (~50-200 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤)
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ö–æ–∂–Ω—ñ 10 —Ö–≤ (–∑–±—ñ–ª—å—à–µ–Ω–æ —ñ–Ω—Ç–µ—Ä–≤–∞–ª)
- **–©–æ–¥–µ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏**: 144 √ó 150 = **21,600 —á–∏—Ç–∞–Ω—å** ‚¨áÔ∏è96%

#### 2. `getAllSessions()` - –õ—ñ–º—ñ—Ç–æ–≤–∞–Ω–∏–π –∞—Ä—Ö—ñ–≤
```dart
// –°–¢–ê–õ–û
final QuerySnapshot snapshot = await _sessionsCollection
    .orderBy('date', descending: true)
    .limit(500) // –¢—ñ–ª—å–∫–∏ –æ—Å—Ç–∞–Ω–Ω—ñ 500 —Å–µ—Å—ñ–π
    .get();
```
- **–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î**: –û—Å—Ç–∞–Ω–Ω—ñ 500 —Å–µ—Å—ñ–π (–∑–∞–º—ñ—Å—Ç—å –≤—Å—ñ—Ö)
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ü—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –∞—Ä—Ö—ñ–≤—É
- **–©–æ–¥–µ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏**: 20 √ó 500 = **10,000 —á–∏—Ç–∞–Ω—å** ‚¨áÔ∏è75%

#### 3. `getAllClientsWithVipStatus()` - –õ—ñ–º—ñ—Ç–æ–≤–∞–Ω–æ
```dart
// –°–¢–ê–õ–û
final QuerySnapshot sessionsSnapshot = await _sessionsCollection
    .orderBy('date', descending: true)
    .limit(1000) // –û—Å—Ç–∞–Ω–Ω—ñ 1000 —Å–µ—Å—ñ–π –¥–ª—è VIP –∞–Ω–∞–ª—ñ–∑—É
    .get();
final QuerySnapshot clientsSnapshot = await _clientsCollection
    .orderBy('name')
    .limit(200) // –ú–∞–∫—Å–∏–º—É–º 200 –∫–ª—ñ—î–Ω—Ç—ñ–≤
    .get();
```
- **–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î**: –û—Å—Ç–∞–Ω–Ω—ñ 1000 —Å–µ—Å—ñ–π + 200 –∫–ª—ñ—î–Ω—Ç—ñ–≤
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ü—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –∫–ª—ñ—î–Ω—Ç—ñ–≤
- **–©–æ–¥–µ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏**: 10 √ó (1000 + 200) = **12,000 —á–∏—Ç–∞–Ω—å** ‚¨áÔ∏è43%

#### 4. –ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ó –∫–æ–∂–Ω—ñ 5 —Ö–≤ ‚Üí –∫–æ–∂–Ω—ñ 10 —Ö–≤
- **–†–µ–∂–∏–º**: –ó `forceRefresh: true` ‚Üí `forceRefresh: false` (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–µ—à)
- **–ï–∫–æ–Ω–æ–º—ñ—è**: ~50% –º–µ–Ω—à–µ –ø—Ä–∏–º—É—Å–æ–≤–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å

### **–ó–ê–ì–ê–õ–¨–ù–ï –©–û–î–ï–ù–ù–ï –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø –ü–Ü–°–õ–Ø**: ~53,600 —á–∏—Ç–∞–Ω—å ‚úÖ

---

## üí∞ **–§–Ü–ù–ê–ù–°–û–í–ò–ô –ï–§–ï–ö–¢**

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
- **–î–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó**: 667,240 —á–∏—Ç–∞–Ω—å/–¥–µ–Ω—å
- **–ü—ñ—Å–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó**: 53,600 —á–∏—Ç–∞–Ω—å/–¥–µ–Ω—å  
- **–ï–∫–æ–Ω–æ–º—ñ—è**: 613,640 —á–∏—Ç–∞–Ω—å/–¥–µ–Ω—å (**92% –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è!**)

### Firestore –ª—ñ–º—ñ—Ç–∏:
- **–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ª—ñ–º—ñ—Ç**: 50,000 —á–∏—Ç–∞–Ω—å/–¥–µ–Ω—å
- **–î–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó**: –ü–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è —É **13.3 —Ä–∞–∑–∏** ($36/–º—ñ—Å—è—Ü—å)
- **–ü—ñ—Å–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó**: –¢—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ –ª—ñ–º—ñ—Ç—É (**1.07 —Ä–∞–∑–∏**, ~$1-2/–º—ñ—Å—è—Ü—å)

---

## üéØ **–©–û –ë–£–õ–û –ó–†–û–ë–õ–ï–ù–û**

### ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:
1. **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ –¥–∞—Ç–∞—Ö –≤ –ë–î** –∑–∞–º—ñ—Å—Ç—å –≤ –∫–æ–¥—ñ
2. **–î–æ–¥–∞–Ω–æ .limit()** –¥–æ –≤—Å—ñ—Ö –≤–µ–ª–∏–∫–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
3. **–ó–º–µ–Ω—à–µ–Ω–æ —á–∞—Å—Ç–æ—Ç—É –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è** –∑ 5 –¥–æ 10 —Ö–≤–∏–ª–∏–Ω
4. **–í–∫–ª—é—á–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–µ—à—É** –≤ –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ
5. **–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è** - –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ –ë–î

### ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥—ñ:
- `getSessionsByMonth()` - —Ñ—ñ–ª—å—Ç—Ä—É—î –ø–æ –¥–∞—Ç–∞—Ö, limit 200
- `getAllSessions()` - limit 500 –¥–ª—è –∞—Ä—Ö—ñ–≤—É
- `getAllClientsWithVipStatus()` - limit 1000 —Å–µ—Å—ñ–π + 200 –∫–ª—ñ—î–Ω—Ç—ñ–≤
- –ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 10 —Ö–≤ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∫–µ—à—É

---

## üîç **–ß–û–ú–£ –ë–£–õ–û –†–ê–ü–¢–û–í–ï –ó–†–û–°–¢–ê–ù–ù–Ø?**

–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏ —Ç–æ–≥–æ, —â–æ "–¥–µ–∫—ñ–ª—å–∫–∞ –¥–Ω—ñ–≤ –Ω–∞–∑–∞–¥ –≤—Å–µ –±—É–ª–æ –¥–æ–±—Ä–µ":

1. **–ó–±—ñ–ª—å—à–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å–µ—Å—ñ–π** - –∫–æ–ª–∏ —É –≤–∞—Å –±—É–ª–æ 100 —Å–µ—Å—ñ–π, –≤—Å–µ –ø—Ä–∞—Ü—é–≤–∞–ª–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ü—Ä–∏ 2000+ —Å–µ—Å—ñ–π —Å—Ç–∞–ª–æ –∫—Ä–∏—Ç–∏—á–Ω–æ.

2. **–ê–∫—Ç–∏–≤–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –º–æ–∂–ª–∏–≤–æ, –≤–∏ –∞–±–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —á–∞—Å—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–ª–∏ –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏, —â–æ –≤–∏–∫–ª–∏–∫–∞–ª–æ –±–∞–≥–∞—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤.

3. **–ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ—á–∞–ª–æ —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞—Ç–∏ —á–∞—Å—Ç—ñ—à–µ** - —Ç–∞–π–º–µ—Ä –ø—Ä–∞—Ü—é—î –ø–æ—Å—Ç—ñ–π–Ω–æ —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤—Å–µ –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω.

4. **–ö–µ—à –Ω–µ –≤—Å—Ç–∏–≥–∞–≤ —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞—Ç–∏** - –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –∫–µ—à –ø–æ—Å—Ç—ñ–π–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞–≤—Å—è.

---

## üöÄ **–†–ï–ó–£–õ–¨–¢–ê–¢**

–¢–µ–ø–µ—Ä –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫:
- ‚úÖ **–ï–∫–æ–Ω–æ–º–∏—Ç—å 92% –∑–∞–ø–∏—Ç—ñ–≤** –¥–æ –ë–î
- ‚úÖ **–ó–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –º–µ–∂–∞—Ö –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ª—ñ–º—ñ—Ç—É** Firestore  
- ‚úÖ **–ü—Ä–∞—Ü—é—î —à–≤–∏–¥—à–µ** - –º–µ–Ω—à–µ –¥–∞–Ω–∏—Ö –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è –∫—Ä–∞—â–µ** - –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—ñ –¥–∞–Ω–∏—Ö —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏–º

**–î–æ–¥–∞—Ç–æ–∫ —Ç–µ–ø–µ—Ä –≥–æ—Ç–æ–≤–∏–π –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!** üéâ